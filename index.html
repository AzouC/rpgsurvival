<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Casino Royal - Roulette ComplÃ¨te</title>
    <style>
        :root { --gold: #D4AF37; --green: #064E3B; --red: #d00; --black: #111; }
        body { background: #121212; color: white; font-family: sans-serif; text-align: center; margin: 0; padding-bottom: 50px; }
        
        .header { background: #1e1e1e; padding: 20px; border-bottom: 2px solid var(--gold); display: flex; justify-content: space-around; align-items: center; position: sticky; top: 0; z-index: 100; }
        .balance { font-size: 1.8rem; color: var(--gold); font-weight: bold; }

        /* ROUE */
        .wheel-box { position: relative; display: inline-block; margin: 20px 0; }
        .arrow { width: 0; height: 0; border-left: 20px solid transparent; border-right: 20px solid transparent; border-top: 35px solid var(--gold); position: absolute; top: -10px; left: 50%; transform: translateX(-50%); z-index: 10; }
        canvas { border-radius: 50%; border: 8px solid #333; box-shadow: 0 0 30px rgba(0,0,0,0.5); }

        /* TAPIS DE MISE */
        .betting-table { max-width: 600px; margin: 20px auto; background: var(--green); padding: 15px; border-radius: 10px; border: 3px solid #043a2c; display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; }
        .bet-zone { background: rgba(0,0,0,0.3); border: 1px solid var(--gold); padding: 15px; border-radius: 5px; cursor: pointer; transition: 0.2s; }
        .bet-zone:hover { background: rgba(212, 175, 55, 0.2); }
        .bet-zone.selected { background: var(--gold); color: black; font-weight: bold; }
        
        .zone-red { border-left: 8px solid var(--red); }
        .zone-black { border-left: 8px solid var(--black); }

        /* CONTROLES */
        .controls { margin: 20px; }
        .btn-spin { background: var(--gold); border: none; padding: 15px 40px; font-size: 1.3rem; font-weight: bold; border-radius: 50px; cursor: pointer; box-shadow: 0 4px 0 #92400e; }
        .btn-spin:disabled { background: #555; box-shadow: none; transform: translateY(4px); }
        input { padding: 10px; border-radius: 5px; border: none; width: 80px; font-size: 1.1rem; text-align: center; }

        #status { font-size: 1.5rem; margin-top: 20px; color: var(--gold); font-weight: bold; min-height: 40px; }
    </style>
</head>
<body>

    <div class="header">
        <div>ðŸŽ° ROULETTE ELITE</div>
        <div class="balance">ðŸ’° <span id="balance">1000</span> $</div>
    </div>

    <div class="wheel-box">
        <div class="arrow"></div>
        <canvas id="wheelCanvas" width="360" height="360"></canvas>
    </div>

    <div id="status">SÃ©lectionnez une zone et misez !</div>

    <div class="controls">
        Mise : <input type="number" id="betAmount" value="50" min="1">
        <br><br>
        <button class="btn-spin" id="spinBtn" onclick="spin()">LANCER LA ROUE</button>
    </div>

    <div class="betting-table">
        <div class="bet-zone" onclick="selectBet('NUM', this)">NumÃ©ro : <input type="number" id="specificNum" value="7" min="0" max="36" style="width: 40px; padding: 2px;"></div>
        <div class="bet-zone zone-red" onclick="selectBet('RED', this)">ROUGE (x2)</div>
        <div class="bet-zone zone-black" onclick="selectBet('BLACK', this)">NOIR (x2)</div>
        <div class="bet-zone" onclick="selectBet('PAIR', this)">PAIR (x2)</div>
        <div class="bet-zone" onclick="selectBet('IMPAIR', this)">IMPAIR (x2)</div>
        <div class="bet-zone" onclick="selectBet('12P', this)">1Ã¨re Douz. (x3)</div>
        <div class="bet-zone" onclick="selectBet('12M', this)">2Ã¨me Douz. (x3)</div>
        <div class="bet-zone" onclick="selectBet('12D', this)">3Ã¨me Douz. (x3)</div>
        <div class="bet-zone" onclick="selectBet('ZERO', this)">ZÃ‰RO (x36)</div>
    </div>

    <script>
        let balance = 1000;
        let selectedType = null;
        let currentAngle = 0;
        const numbers = [0, 32, 15, 19, 4, 21, 2, 25, 17, 34, 6, 27, 13, 36, 11, 30, 8, 23, 10, 5, 24, 16, 33, 1, 20, 14, 31, 9, 22, 18, 29, 7, 28, 12, 35, 3, 26];

        function selectBet(type, element) {
            document.querySelectorAll('.bet-zone').forEach(z => z.classList.remove('selected'));
            element.classList.add('selected');
            selectedType = type;
        }

        function drawWheel() {
            const canvas = document.getElementById("wheelCanvas");
            const ctx = canvas.getContext("2d");
            const r = canvas.width / 2;
            const step = (Math.PI * 2) / 37;

            ctx.clearRect(0,0,360,360);
            ctx.save(); ctx.translate(r,r); ctx.rotate(currentAngle); ctx.translate(-r,-r);

            for (let i = 0; i < 37; i++) {
                ctx.beginPath();
                ctx.fillStyle = numbers[i] === 0 ? "#008000" : (i % 2 === 0 ? "#000" : "#d00");
                ctx.moveTo(r, r); ctx.arc(r, r, r, i * step, (i + 1) * step); ctx.fill();
                ctx.save(); ctx.translate(r,r); ctx.rotate(i*step + step/2);
                ctx.fillStyle = "white"; ctx.font = "bold 13px Arial"; ctx.fillText(numbers[i], r-28, 5);
                ctx.restore();
            }
            ctx.restore();
        }

        function spin() {
            if(!selectedType) return alert("Choisissez une zone de mise !");
            const bet = parseInt(document.getElementById('betAmount').value);
            if(bet > balance) return alert("Solde insuffisant");

            balance -= bet;
            document.getElementById('balance').innerText = balance;
            document.getElementById('spinBtn').disabled = true;
            document.getElementById('status').innerText = "Rien ne va plus...";

            const duration = 5000;
            const rotations = (Math.PI * 2) * (6 + Math.random() * 4);
            const start = performance.now();
            const initialAngle = currentAngle;

            function animate(time) {
                let progress = (time - start) / duration;
                if(progress > 1) progress = 1;
                let ease = 1 - Math.pow(1 - progress, 3);
                currentAngle = initialAngle + (rotations * ease);
                drawWheel();
                if(progress < 1) requestAnimationFrame(animate);
                else finalize(bet);
            }
            requestAnimationFrame(animate);
        }

        function finalize(bet) {
            let step = (Math.PI * 2) / 37;
            let normalized = (currentAngle % (Math.PI * 2));
            let index = Math.floor(((Math.PI * 1.5) - normalized) / step) % 37;
            if(index < 0) index += 37;
            
            let winNum = numbers[index];
            let winColor = (winNum === 0) ? "GREEN" : (index % 2 === 0 ? "BLACK" : "RED");
            let multiplier = 0;

            // VÃ©rification des gains
            if (selectedType === 'RED' && winColor === 'RED') multiplier = 2;
            else if (selectedType === 'BLACK' && winColor === 'BLACK') multiplier = 2;
            else if (selectedType === 'PAIR' && winNum !== 0 && winNum % 2 === 0) multiplier = 2;
            else if (selectedType === 'IMPAIR' && winNum % 2 !== 0) multiplier = 2;
            else if (selectedType === '12P' && winNum >= 1 && winNum <= 12) multiplier = 3;
            else if (selectedType === '12M' && winNum >= 13 && winNum <= 24) multiplier = 3;
            else if (selectedType === '12D' && winNum >= 25 && winNum <= 36) multiplier = 3;
            else if (selectedType === 'ZERO' && winNum === 0) multiplier = 36;
            else if (selectedType === 'NUM' && winNum === parseInt(document.getElementById('specificNum').value)) multiplier = 36;

            if (multiplier > 0) {
                let gain = bet * multiplier;
                balance += gain;
                document.getElementById('status').innerHTML = `<span style="color:#4ade80">GAGNÃ‰ ! Le ${winNum} (${winColor}) : +${gain}$</span>`;
            } else {
                document.getElementById('status').innerHTML = `<span style="color:#f87171">PERDU : Le ${winNum} (${winColor})</span>`;
            }

            document.getElementById('balance').innerText = balance;
            document.getElementById('spinBtn').disabled = false;
        }

        drawWheel();
    </script>
</body>
</html>